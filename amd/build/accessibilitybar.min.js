define(["jquery","core/ajax"],function(a,b){window.jQuery=a;var c={FONT_SIZE:"#fontsize_dec, #fontsize_reset, #fontsize_inc",SITE_COLOR:"#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor_color4, #sitecolor_colordark, #sitecolor_colortri, #sitecolor_colorpto, #sitecolor_colordeu",SITE_FONT:"#fontsite_odafont, #fontsite_default"},d=null,e=null,f=null,g=null,h=null,i=null,j=null,k=function(){j=this,this.getColor(),this.reloadFontSite(),this.toggleFontsizeButtons(),this.registerEventListeners(),this.getFontSize()};return k.prototype.registerEventListeners=function(){a(c.FONT_SIZE).click(function(b){var c=a(b.currentTarget);g=c.data("action"),this.fontSize()}.bind(this)),a(c.SITE_COLOR).click(function(b){var c=a(b.currentTarget);h=c.data("action"),this.siteColor()}.bind(this)),a(c.SITE_FONT).click(function(b){var c=a(b.currentTarget);i=c.data("action"),this.siteFont()}.bind(this))},k.prototype.getColor=function(){var a=b.call([{methodname:"theme_ecampus_getthemesettingscolor",args:{}}]);a[0].done(function(a){console.log("color 1 is: "+a.sitecolor),h=a.sitecolor,j.reloadSitecolorClass()}).fail(function(a){console.log("color 1 is: fail")})},k.prototype.getFontSize=function(){var a=b.call([{methodname:"theme_ecampus_getthemesettingsfontsize",args:{}}]);a[0].done(function(a){console.log("size 1 is: "+a.sitefontsize),j.setFontSize(a.sitefontsize),j.reloadSitecolorClass()}).fail(function(a){console.log("size 1 is: fail")})},k.prototype.setFontSize=function(a){console.log("setfont"),a.includes("fontsize-inc-")&&(g="increase"),a.includes("fontsize-dec-")&&(g="decrease"),console.log("setfont"+a);var b=a.split("-");d=a,e=b[1],f=b[2],this.reloadFontsizeClass()},k.prototype.reloadFontSite=function(){var c=b.call([{methodname:"theme_ecampus_getthemesettingsfont",args:{}}]);c[0].done(function(b){console.log("font 1 is: "+b.fonttype),"odafont"!=b.fonttype?(a("#fontsite_default").addClass("disabled"),a("#fontsite_odafont").removeClass("disabled")):(a("#fontsite_default").removeClass("disabled"),a("#fontsite_odafont").addClass("disabled"))}).fail(function(a){console.log("font 1 is: fail")})},k.prototype.fontSize=function(){var a=b.call([{methodname:"theme_ecampus_fontsize",args:{action:g}}]);a[0].done(function(){this.reloadFontsizeClass()}.bind(this))},k.prototype.reloadFontsizeClass=function(){return console.log("reload size"),"reset"===g||"increase"===g&&"fontsize-dec-1"===d||"decrease"===g&&"fontsize-inc-1"===d?(a("body").removeClass(d),d=null,e=null,f=null,void this.toggleFontsizeButtons()):("increase"===g&&(null===f?(d="fontsize-inc-1",e="inc",f=1):"inc"===e&&f<6?(a("body").removeClass(d),f++,d="fontsize-inc-"+f):"dec"===e&&(a("body").removeClass(d),f--,d="fontsize-dec-"+f),a("body").addClass(d)),"decrease"===g&&(null===f?(d="fontsize-dec-1",e="dec",f=1):"dec"===e&&f<6?(a("body").removeClass(d),f++,d="fontsize-dec-"+f):"inc"===e&&(a("body").removeClass(d),f--,d="fontsize-inc-"+f),a("body").addClass(d)),void this.toggleFontsizeButtons())},k.prototype.toggleFontsizeButtons=function(){null===d&&(a("#fontsize_reset").addClass("disabled"),a("#fontsize_inc").removeClass("disabled"),a("#fontsize_dec").removeClass("disabled")),null!==d&&a("#fontsize_reset").removeClass("disabled"),"inc"===e&&(6==f&&a("#fontsize_inc").addClass("disabled"),f<6&&a("#fontsize_inc").removeClass("disabled")),"dec"===e&&(6==f&&a("#fontsize_dec").addClass("disabled"),f<6&&a("#fontsize_dec").removeClass("disabled"))},k.prototype.siteColor=function(){var a=b.call([{methodname:"theme_ecampus_sitecolor",args:{action:h}}]);a[0].done(function(){this.reloadSitecolorClass()}.bind(this))},k.prototype.siteFont=function(){console.log("change font: "+i);var a=b.call([{methodname:"theme_ecampus_sitefont",args:{action:i}}]);a[0].then(function(a){console.log("change font success"),document.location.reload(!0)}).fail(function(a){var b=a.message;console.log("change font error "+b)}),console.log("change font exit")},k.prototype.reloadSitecolorClass=function(){a("body").removeClass(function(a,b){return(b.match(/(^|\s)sitecolor-color-\S+/g)||[]).join(" ")}),console.log("cahnge color reloadSitecolorClass"+h),"reset"!==h&&(a("body").addClass(h),console.log("change color reloadSitecolorClass"+h))},{init:function(){return new k}}});
//# sourceMappingURL=accessibilitybar.min.js.map