define(["jquery","core/ajax"],function(a,b){window.jQuery=a;var c={FONT_SIZE:"#fontsize_dec, #fontsize_reset, #fontsize_inc",SITE_COLOR:"#sitecolor_color1, #sitecolor_color2, #sitecolor_color3, #sitecolor_color4, #sitecolor_colordark, #sitecolor_colortri, #sitecolor_colorpto, #sitecolor_colordeu, #sitecolor_colortri1, #sitecolor_colorpto1, #sitecolor_colordeu1",SITE_FONT:"#fontsite_odafont, #fontsite_default"},d=null,e=null,f=null,g=null,h=null,i=null,j=null,k=function(){j=this;var a=document.querySelector("#action-menu-toggle-1"),b=document.querySelector("#accessibilitybar"),c=document.querySelector("#themesettings-control-mod"),d=document.querySelector("#navbar_content_control"),e=document.querySelector("#tool_navbar_control_content");null!=a?(b.classList.add("allvisible"),d.classList.add("allvisible"),e.classList.add("allvisible"),this.registerEventListeners(),this.getFontSize(),this.getColor(),this.reloadFontSite()):c.classList.add("hidden-display")};return k.prototype.registerEventListeners=function(){a(c.FONT_SIZE).click(function(b){var c=a(b.currentTarget);g=c.data("action"),j.fontSize()}.bind(this)),a(c.SITE_COLOR).click(function(b){var c=a(b.currentTarget);h=c.data("action"),j.siteColor()}.bind(this)),a(c.SITE_FONT).click(function(b){var c=a(b.currentTarget);i=c.data("action"),j.siteFont()}.bind(this))},k.prototype.getColor=function(){var a=b.call([{methodname:"theme_ecampus_getthemesettingscolor",args:{}}]);a[0].done(function(a){h=a.sitecolor,j.reloadSitecolorClass()}).fail(function(a){})},k.prototype.getFontSize=function(){var a=b.call([{methodname:"theme_ecampus_getthemesettingsfontsize",args:{}}]);a[0].done(function(a){j.setFontSize(a.sitefontsize)}).fail(function(a){})},k.prototype.setFontSize=function(a){null===a||"default"===a?(g="reset",e=null):(a.includes("fontsize-inc-")&&(g="increase",e="dec"),a.includes("fontsize-dec-")&&(g="decrease",e="inc"),d=a),j.reloadFontsizeClass()},k.prototype.reloadFontSite=function(){var c=b.call([{methodname:"theme_ecampus_getthemesettingsfont",args:{}}]);c[0].done(function(b){"odafont"!=b.fonttype?(a("#fontsite_default").addClass("disabled"),a("#fontsite_odafont").removeClass("disabled")):(a("#fontsite_default").removeClass("disabled"),a("#fontsite_odafont").addClass("disabled"))}).fail(function(a){})},k.prototype.fontSize=function(){var a=b.call([{methodname:"theme_ecampus_fontsize",args:{action:g}}]);a[0].done(function(a){j.setFontSize(a.newfontsizeclass)}).fail(function(a){})},k.prototype.getUserSession=function(){var a=b.call([{methodname:"theme_ecampus_getUserSession",args:{}}]);a[0].done(function(a){"ok"==a.isLogedin&&(j.getColor(),j.reloadFontSite(),j.toggleFontsizeButtons(),j.getFontSize())}).fail(function(a){})},k.prototype.reloadFontsizeClass=function(){null!==f&&"default"!==f?(console.log("remuevo"+f),a("body").removeClass(f)):console.log("no remuevo"+f),null!==d&&"default"!==d?(console.log("seteo"+d),a("body").addClass(d)):console.log("no seteo"+d),f=d,j.toggleFontsizeButtons()},k.prototype.toggleFontsizeButtons=function(){null!==d&&"default"!==d||(a("#fontsize_reset").addClass("disabled"),a("#fontsize_inc").removeClass("disabled"),a("#fontsize_dec").removeClass("disabled")),null!==d&&"default"===d&&a("#fontsize_reset").removeClass("disabled"),"inc"===e&&("fontsize-inc-5"==d||"fontsize-inc-6"==d?a("#fontsize_inc").addClass("disabled"):a("#fontsize_inc").removeClass("disabled")),"dec"===e&&("fontsize-dec-5"==d||"fontsize-dec-6"==d?a("#fontsize_dec").addClass("disabled"):a("#fontsize_dec").removeClass("disabled"))},k.prototype.siteColor=function(){var a=b.call([{methodname:"theme_ecampus_sitecolor",args:{action:h}}]);a[0].done(function(){j.reloadSitecolorClass()}.bind(this))},k.prototype.siteFont=function(){var a=b.call([{methodname:"theme_ecampus_sitefont",args:{action:i}}]);a[0].then(function(a){document.location.reload(!0)}).fail(function(a){a.message})},k.prototype.reloadSitecolorClass=function(){a("body").removeClass(function(a,b){return(b.match(/(^|\s)sitecolor-color-\S+/g)||[]).join(" ")}),"reset"!==h&&a("body").addClass(h)},{init:function(){return new k}}});
//# sourceMappingURL=accessibilitybar.min.js.map